{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\raymi\\\\Desktop\\\\MHIRJ-chart\\\\MHIRJ\\\\src\\\\Components\\\\MdcMessages\\\\Reports\\\\Report.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport DailyReport from './DailyReport/DailyReport';\nimport HistoryReport from './HistoryReport/HistoryReport';\nimport { makeStyles } from '@material-ui/core/styles'; //Filter Imports\n\nimport { EqIDSelector, ACSNSelector } from '../GenerateReport/Selectors'; //Buttons Imports\n\nimport Button from '@material-ui/core/Button';\nimport { useHistory } from \"react-router-dom\"; //Axios Imports \n\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: '50px auto',\n    width: '95vw'\n  },\n  flagFilters: {\n    margin: '20px',\n    maxWidth: '100%',\n    display: 'flex'\n  },\n  flagH3: {\n    marginLeft: '24px'\n  },\n  button: {\n    margin: '9px 30px',\n    backgroundColor: \"#C5D3E0\",\n    width: '600px',\n    height: '51px'\n  }\n}));\n\nconst Report = props => {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory(); //const [report, setReport] = useState(history.location.state.reportConditions);\n\n  const [report, setReport] = useState(props.reportConditions); // setReport(props.reportConditions);\n  // const [EqID, setEqID] = React.useState('');\n  // const [ACSN, setACSN] = React.useState('');\n\n  const [dailyReportData, setDailyReportData] = useState([]);\n  const [historyReportData, setHistoryReportData] = useState([]); // // ----- States and handle Functions for Buttons -----\n  // const handleGenerateFlagReport = (event) => {\n  //   if (ACSN !== '' && EqID !== '') {  \n  //     setFlagConditions ({ACSN : ACSN});\n  //     setFlagConditions ({EqID : EqID});\n  //     history.push({\n  //       pathname: '/flag',\n  //       state: {flagConditions:flagConditions}\n  //     });\n  //   };\n  // };\n  // // ----- States and handle Functions for Selects  ----- \n  // const handleACSNChange = (ACSN) => {\n  //   setACSN(ACSN);\n  // };\n  // const handleEqIDChange = (EqID) => {\n  //   setEqID(EqID);\n  // };\n  // ----- Report Loading Method ----- \n  // var flagTitle = <h3 className={classes.flagH3}>Flag Report Conditions</h3>;\n\n  var reportTable = ''; // var historyFilters = \n  //   <div className={classes.flagFilters}>\n  //     <EqIDSelector \n  //       handleEqIDChange = {handleEqIDChange} /> \n  //     <ACSNSelector \n  //       handleACSNChange = {handleACSNChange} />\n  //       <Button \n  //         variant=\"contained\" \n  //         onClick = {()=>handleGenerateFlagReport()}\n  //         className={classes.button}>\n  //           Generate Flag Report\n  //       </Button>     \n  //     </div>;  \n\n  useEffect(() => {\n    setReport(props.reportConditions);\n  }, [props.reportConditions]);\n  useEffect(() => {\n    console.log(report.ata);\n\n    if (report.ata !== null && report.ata !== undefined && report.ata !== '') {\n      /* Using useEffect so that axios can run only on the first render \r\n      http://localhost:8000/\"/GenerateReport/{analysisType}/{occurences}/{legs}/{intermittent}/{consecutiveDays}/{ata}/{exclude_EqID}/{airline_operator}/{include_current_message}/{fromDate}/{toDate}\") \r\n      Example of Daily Path: http://localhost:8000/GenerateReport/daily/2/2/3/0/SKW/28/0/2020-11-14/2020-11-15 */\n      // const analysis = report.analysis;\n      // const occurences = report.occurences;\n      // const legs = report.legs;\n      // const intermittent = report.intermittent;\n      const {\n        analysis,\n        occurences,\n        legs,\n        intermittent\n      } = report;\n      let consecutiveDays;\n      let consecutiveDaysDaily;\n      let consecutiveDaysHistory;\n\n      if (report.analysis === \"daily\") {\n        consecutiveDays = 0;\n      } else if (report.analysis === \"both\") {\n        consecutiveDaysDaily = 0;\n        consecutiveDaysHistory = report.days;\n      } else {\n        consecutiveDays = report.days;\n      }\n\n      const operator = report.operator;\n      const ata = \"('\" + report.ata.join(\"','\") + \"')\";\n      const eqid = \"('\" + report.eqID.join(\"','\") + \"')\";\n      const messages = 0;\n      const fromDate = report.fromDate;\n      const toDate = report.toDate;\n\n      if (report.analysis !== \"both\") {\n        /*http://localhost:8000/GenerateReport/history/2/2/2/3/('31','22','24','23')/('B1-007553','B1-005970')/skw/0/2020-11-18/2020-11-22*/\n        const path = 'http://localhost:8000/GenerateReport/' + analysis + '/' + occurences + '/' + legs + '/' + intermittent + '/' + consecutiveDays + '/' + ata + '/' + eqid + '/' + operator + '/' + messages + '/' + fromDate + '/' + toDate;\n\n        try {\n          axios.post(path).then(function (res) {\n            // console.log(res);\n            var data = JSON.parse(res.data);\n\n            if (report.analysis === \"daily\") {\n              setDailyReportData(data);\n            } else if (report.analysis === \"history\") {\n              setHistoryReportData(data);\n            }\n          });\n        } catch (err) {\n          console.error(err);\n        }\n      } else {\n        const dailyPath = 'http://localhost:8000/GenerateReport/' + analysis + '/' + occurences + '/' + legs + '/' + intermittent + '/' + consecutiveDaysDaily + '/' + operator + '/' + ata + '/' + messages + '/' + fromDate + '/' + toDate;\n        const historyPath = 'http://localhost:8000/GenerateReport/' + analysis + '/' + occurences + '/' + legs + '/' + intermittent + '/' + consecutiveDaysHistory + '/' + operator + '/' + ata + '/' + messages + '/' + fromDate + '/' + toDate;\n\n        try {\n          axios.post(dailyPath).then(function (res) {\n            var data = JSON.parse(res.data);\n            setDailyReportData(data);\n          });\n        } catch (err) {\n          console.error(err);\n        }\n\n        try {\n          axios.post(historyPath).then(function (res) {\n            var data = JSON.parse(res.data);\n            setHistoryReportData(data);\n          });\n        } catch (err) {\n          console.error(err);\n        }\n      }\n    }\n  }, [report]);\n\n  if (report.analysis === \"daily\" && dailyReportData !== \"\") {\n    reportTable = /*#__PURE__*/_jsxDEV(DailyReport, {\n      data: dailyReportData,\n      title: \"Daily Report\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 23\n    }, this); // historyFilters = '';\n    // flagTitle = '';\n  } else if (report.analysis === \"history\" && historyReportData !== \"\") {\n    reportTable = /*#__PURE__*/_jsxDEV(HistoryReport, {\n      data: historyReportData,\n      title: \"History Report\",\n      reportConditions: report\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }, this);\n  } else if (report.analysis === \"both\" && dailyReportData !== \"\" && historyReportData !== \"\") {\n    reportTable = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(DailyReport, {\n        data: dailyReportData,\n        title: \"Daily Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 28\n      }, this), \" \", /*#__PURE__*/_jsxDEV(HistoryReport, {\n        data: historyReportData,\n        title: \"History Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 91\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 23\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [report.analysis !== \"daily\" && /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), reportTable]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Report, \"h1FoldPfAIlco7RjR70h7dDSEug=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = Report;\nexport default Report;\n\nvar _c;\n\n$RefreshReg$(_c, \"Report\");","map":{"version":3,"sources":["C:/Users/raymi/Desktop/MHIRJ-chart/MHIRJ/src/Components/MdcMessages/Reports/Report.js"],"names":["React","useState","useEffect","DailyReport","HistoryReport","makeStyles","EqIDSelector","ACSNSelector","Button","useHistory","axios","useStyles","theme","root","margin","width","flagFilters","maxWidth","display","flagH3","marginLeft","button","backgroundColor","height","Report","props","classes","history","report","setReport","reportConditions","dailyReportData","setDailyReportData","historyReportData","setHistoryReportData","reportTable","console","log","ata","undefined","analysis","occurences","legs","intermittent","consecutiveDays","consecutiveDaysDaily","consecutiveDaysHistory","days","operator","join","eqid","eqID","messages","fromDate","toDate","path","post","then","res","data","JSON","parse","err","error","dailyPath","historyPath"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react';\r\nimport DailyReport from './DailyReport/DailyReport';\r\nimport HistoryReport from './HistoryReport/HistoryReport';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n//Filter Imports\r\nimport {EqIDSelector,ACSNSelector} from '../GenerateReport/Selectors'\r\n//Buttons Imports\r\nimport Button from '@material-ui/core/Button';\r\nimport { useHistory } from \"react-router-dom\";\r\n//Axios Imports \r\nimport axios from 'axios';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    margin:'50px auto',\r\n    width:'95vw',\r\n  },\r\n  flagFilters: {\r\n    margin: '20px',\r\n    maxWidth: '100%',\r\n    display: 'flex',\r\n  },  \r\n  flagH3: {\r\n    marginLeft: '24px',\r\n  },\r\n  button:{\r\n    margin:'9px 30px',\r\n    backgroundColor:\"#C5D3E0\",\r\n    width: '600px',\r\n    height: '51px',\r\n  },\r\n}));\r\n\r\nconst Report = (props) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  //const [report, setReport] = useState(history.location.state.reportConditions);\r\n  const [report, setReport] = useState(props.reportConditions);\r\n  // setReport(props.reportConditions);\r\n  // const [EqID, setEqID] = React.useState('');\r\n  // const [ACSN, setACSN] = React.useState('');\r\n  const [dailyReportData, setDailyReportData] = useState([]);\r\n  const [historyReportData, setHistoryReportData] = useState([]);\r\n\r\n\r\n// // ----- States and handle Functions for Buttons -----\r\n// const handleGenerateFlagReport = (event) => {\r\n//   if (ACSN !== '' && EqID !== '') {  \r\n//     setFlagConditions ({ACSN : ACSN});\r\n//     setFlagConditions ({EqID : EqID});\r\n//     history.push({\r\n//       pathname: '/flag',\r\n//       state: {flagConditions:flagConditions}\r\n//     });\r\n//   };\r\n// };\r\n\r\n// // ----- States and handle Functions for Selects  ----- \r\n\r\n// const handleACSNChange = (ACSN) => {\r\n//   setACSN(ACSN);\r\n// };\r\n\r\n// const handleEqIDChange = (EqID) => {\r\n//   setEqID(EqID);\r\n// };\r\n\r\n  // ----- Report Loading Method ----- \r\n  // var flagTitle = <h3 className={classes.flagH3}>Flag Report Conditions</h3>;\r\n  var reportTable = '';\r\n  // var historyFilters = \r\n  //   <div className={classes.flagFilters}>\r\n  //     <EqIDSelector \r\n  //       handleEqIDChange = {handleEqIDChange} /> \r\n  //     <ACSNSelector \r\n  //       handleACSNChange = {handleACSNChange} />\r\n  //       <Button \r\n  //         variant=\"contained\" \r\n  //         onClick = {()=>handleGenerateFlagReport()}\r\n  //         className={classes.button}>\r\n  //           Generate Flag Report\r\n  //       </Button>     \r\n  //     </div>;  \r\n\r\n    useEffect( () => {\r\n        setReport(props.reportConditions);\r\n      }, [props.reportConditions]);\r\n\r\n      useEffect( () => {\r\n        console.log(report.ata);\r\n        if (report.ata !== null && report.ata !== undefined &&  report.ata !== ''){\r\n          /* Using useEffect so that axios can run only on the first render \r\n          http://localhost:8000/\"/GenerateReport/{analysisType}/{occurences}/{legs}/{intermittent}/{consecutiveDays}/{ata}/{exclude_EqID}/{airline_operator}/{include_current_message}/{fromDate}/{toDate}\") \r\n          Example of Daily Path: http://localhost:8000/GenerateReport/daily/2/2/3/0/SKW/28/0/2020-11-14/2020-11-15 */\r\n\r\n          // const analysis = report.analysis;\r\n          // const occurences = report.occurences;\r\n          // const legs = report.legs;\r\n          // const intermittent = report.intermittent;\r\n          const {analysis, occurences, legs, intermittent} = report;\r\n          let consecutiveDays;\r\n          let consecutiveDaysDaily;\r\n          let consecutiveDaysHistory;\r\n\r\n          if (report.analysis === \"daily\") {\r\n            consecutiveDays = 0;\r\n          }\r\n          else if (report.analysis === \"both\") {\r\n            consecutiveDaysDaily = 0;\r\n            consecutiveDaysHistory = report.days;\r\n          }\r\n          else {\r\n            consecutiveDays = report.days;\r\n          }\r\n          const operator = report.operator;\r\n        \r\n          const ata =  \"('\"+ report.ata.join(\"','\") +\"')\";\r\n          const eqid = \"('\"+ report.eqID.join(\"','\") +\"')\";\r\n\r\n          const messages = 0; \r\n          const fromDate = report.fromDate;\r\n          const toDate = report.toDate;\r\n\r\n          if (report.analysis !== \"both\") {\r\n            /*http://localhost:8000/GenerateReport/history/2/2/2/3/('31','22','24','23')/('B1-007553','B1-005970')/skw/0/2020-11-18/2020-11-22*/\r\n\r\n            const path = 'http://localhost:8000/GenerateReport/' + analysis + '/' + occurences + '/' + legs + '/' + intermittent + '/' +\r\n            consecutiveDays + '/' + ata + '/' + eqid + '/'+ operator + '/' + messages + '/' + fromDate + '/' + toDate;\r\n\r\n            try{\r\n              axios.post(path).then(function (res) {\r\n                // console.log(res);\r\n                var data = JSON.parse(res.data);\r\n                if (report.analysis === \"daily\") {\r\n                  setDailyReportData(data);\r\n                }\r\n                else if (report.analysis === \"history\") {\r\n                  setHistoryReportData(data);\r\n                }\r\n              });\r\n            } catch (err) {\r\n              console.error(err);\r\n            }\r\n          }\r\n          else {\r\n            const dailyPath = 'http://localhost:8000/GenerateReport/' + analysis + '/' + occurences + '/' + legs + '/' + intermittent + '/' +\r\n            consecutiveDaysDaily + '/' + operator + '/' + ata + '/' + messages + '/' + fromDate + '/' + toDate;\r\n            \r\n            const historyPath = 'http://localhost:8000/GenerateReport/' + analysis + '/' + occurences + '/' + legs + '/' + intermittent + '/' +\r\n            consecutiveDaysHistory + '/' + operator + '/' + ata + '/' + messages + '/' + fromDate + '/' + toDate;\r\n            try{\r\n              axios.post(dailyPath).then(function (res) {\r\n                var data = JSON.parse(res.data);\r\n                  setDailyReportData(data);\r\n              });\r\n            } catch (err) {\r\n              console.error(err);\r\n            }\r\n            try{\r\n              axios.post(historyPath).then(function (res) {\r\n                var data = JSON.parse(res.data);\r\n                setHistoryReportData(data);\r\n              });\r\n            } catch (err) {\r\n              console.error(err);\r\n            }\r\n          }\r\n        }\r\n     }, [report]);\r\n\r\n      if (report.analysis === \"daily\" && dailyReportData !== \"\") {\r\n        reportTable = <DailyReport data = {dailyReportData} title = \"Daily Report\"/>\r\n        // historyFilters = '';\r\n        // flagTitle = '';\r\n      }\r\n      else if (report.analysis === \"history\" && historyReportData !== \"\") {\r\n          reportTable = <HistoryReport data = {historyReportData}  title = \"History Report\" reportConditions = {report}/>\r\n      }  \r\n      else if (report.analysis === \"both\" && dailyReportData !== \"\"  && historyReportData !== \"\") {\r\n        reportTable = <div><DailyReport data = {dailyReportData} title = \"Daily Report\"/> <HistoryReport data = {historyReportData}  title = \"History Report\"/></div>;\r\n      }  \r\n     \r\n  return(\r\n    <div className={classes.root}>\r\n      { report.analysis !== \"daily\" &&\r\n      <>\r\n        {/* {flagTitle}\r\n        {historyFilters} */}\r\n      </>\r\n      }\r\n      {reportTable}\r\n  </div>  \r\n  );\r\n    \r\n  };\r\n\r\nexport default Report;"]},"metadata":{},"sourceType":"module"}